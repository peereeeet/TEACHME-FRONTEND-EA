<div class="populate-container">
  <h2>Asignar Asignaturas a Usuarios</h2>

  <div class="form-group">
    <label for="usuario">Seleccionar Usuario:</label>
    <select [(ngModel)]="selectedUsuarioId" (change)="onUsuarioChange()">
      <option value="">-- Seleccionar Usuario --</option>
      <option *ngFor="let usuario of usuarios" [value]="usuario._id">
        {{ usuario.nombre }} ({{ usuario.email }})
      </option>
    </select>
  </div>

  <div class="form-group">
    <label for="asignatura">Seleccionar Asignatura:</label>
    <select [(ngModel)]="selectedAsignaturaId">
      <option value="">-- Seleccionar Asignatura --</option>
      <option *ngFor="let asignatura of asignaturas" [value]="asignatura._id">
        {{ asignatura.nombre }}
      </option>
    </select>
  </div>

  <div class="buttons">
    <button (click)="asignarAsignatura()" class="btn btn-primary">Asignar Asignatura</button>
  </div>

  <div *ngIf="showNotification" class="notification">
    {{ feedbackMessage }}
  </div>

  <h3 *ngIf="asignaturasAsignadas.length > 0">Asignaturas Asignadas</h3>
  <ul *ngIf="asignaturasAsignadas.length > 0">
    <li *ngFor="let asignatura of asignaturasAsignadas">
      {{ asignatura.nombre }}
      <button (click)="desasignarAsignatura(asignatura._id || '')" class="btn btn-danger btn-small">Desasignar</button>
    </li>
  </ul>

  <!-- Controles de paginación -->
  <div class="pagination-controls" *ngIf="totalPages > 1">
    <button class="btn btn-secondary" (click)="goToPage(page - 1)" [disabled]="page === 1">Anterior</button>
    <span>Página {{ page }} de {{ totalPages }}</span>
    <button class="btn btn-secondary" (click)="goToPage(page + 1)" [disabled]="page === totalPages">Siguiente</button>
  </div>
</div>
